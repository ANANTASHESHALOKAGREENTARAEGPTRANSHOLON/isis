.Architecture Overview Diagram
[plantuml,file="arc-overview.png"]
--
@startuml
node Desktop <<client>>{
component Chrome <<browser>> #Red-Green {
component V8 <<"JS Runtime">> #f7df1e {
    component KotlinJS [[https://github.com/JetBrains/kotlin/tree/master/js]] #8167FF-02AEFF {
        component kotlinx.serialization as KS #DDE1F9/A9B4EF
        component kvision [[https://rjaros.github.io/kvision]] #00AAD4/216778 {
            component Bootstrap [[https://getbootstrap.com/]] #8F5ADC-31135B 
            component "Font\nAwesome" [[https://fontawesome.com/]] #155592-1C7ED6
            component Tabulator [[http://tabulator.info/]] #21441F|3DB549 
            component Chart.js [[https://www.chartjs.org/]] #f27173  
        }
        component kroViz #8064A2-F79646
        kroViz --> kvision : implemented\nusing
        kroViz --> KS : implemented\nusing
    } 
}
}
}

node server{
    interface RestfulObjects as RO
    component ApacheIsis<<NakedObjects>> [[https://isis.apache.org/]] #9BBB59/4F81BD
}

ApacheIsis -- RO
kroViz --> RO : invoke\ \nuse  
@enduml
--

.Overview Diagram
[plantuml,file="uml-overview.png"]
--
@startuml

class XHR {
    invoke()
}

class EventStore<<(S,#FF7700) Singleton>> {
    log:LogEntry[]
    start()
    end()
    fault()
    find(href)
}

class LogEntry {
    url:Href
    title:String
    startedAt:Date
    updatedAt:Date
    request:String
    response:String
    object:TransferObject
    aggregator:Aggregator
    cacheHits:int
}
EventStore o-- LogEntry
LogEntry o-- TransferObject
LogEntry o-- Aggregator

class ResponseHandler<<Facade,ChainOfResponsibility>>{
    handle(LogEntry)
    canHandle(json)
    doHandle()
    parse(json)
}
ResponseHandler -> XHR : json <
ResponseHandler .> TransferObject : converts JSON into TO

XHR -> EventStore


package remote <<Cloud>> {
interface RestfulObjects
    class ApacheIsis<<(A, #FF7700)Application>>
    class NakedObjects<<(A, #FF7700)Application>>
}
RestfulObjects <|-- ApacheIsis
RestfulObjects <|-- NakedObjects
XHR -> RestfulObjects : invoke
XHR <- RestfulObjects : json


interface TransferObject
TransferObject <|.. to.Link
TransferObject <|.. to.Extensions
TransferObject <|.. to.layout.Layout
interface to.Linked{
    links:Link[]
}
TransferObject <|.. to.Linked
to.Linked <|.. to.Result
to.Linked <|.. to.ResultList
to.Linked <|.. to.Extended

interface to.Extended{
    extensions:Extensions
}
to.Linked o-- to.Link
to.Extended o-- to.Extensions
to.Extended <|.. to.Property
to.Extended <|.. to.TObject
to.Extended <|.. to.Service
to.Extended <|.. to.Member
to.Service o-- to.Member

interface Aggregator {
    update(logEntry)
}
class ListAggregator {
    -list:ObjectList
}
ListAggregator *-- ObjectList
Aggregator <|.. ListAggregator

class NavigationAggregator
Aggregator <|.. NavigationAggregator

class ObjectList {
    list:ObjectAdapter
    -limit:int
    -layout:Layout
}
ObjectList *-- to.layout.Layout
@enduml
--
